<div class="container mt-4" style="margin-bottom: 5rem;">
  <%= simple_form_for(@company) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>
  <div class="form-inputs">
    <%= f.input :name %>
  </div>
  <div>
    <table class="schedule-editor">
      <thead>
        <tr>
          <th>Day</th>
        </tr>
      </thead>
      <tbody>
        <% weekdays.each do |day| %>
        <%= f.fields_for :schedules, f.object.schedules.find_or_initialize_by(weekday: day[:value]) do |sched| %>
        <tr>
          <td>
            <%= sched.hidden_field :weekday %>
            <div class="checkbox">
              <%= sched.check_box :closed, {checked: sched.object.persisted?}, false, true %>
              <%= sched.label :closed, day[:label] %>
            </div>
          </td>
          <td>
            <%= sched.label :opens_at, class: "visually-hidden" %>
            <%= sched.time_field :opens_at %>
          </td>
          <td>
            <%= sched.label :closes_at, class: "visually-hidden" %>
            <%= sched.time_field :closes_at %>
          </td>
        </tr>
        <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="form-actions">
    <%= f.button :submit, class: "btn-standard"%>
    <% end %>
  </div>
</div>
